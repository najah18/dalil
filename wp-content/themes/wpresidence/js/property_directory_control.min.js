function wpresidence_directory_increase_pagination(){const e=jQuery("#property_dir_pagination");let r=parseInt(e.val(),10);e.val(++r),wpestate_directory_filtering()}function wpestate_directory_filtering(){sliderTimer&&clearTimeout(sliderTimer),sliderTimer=setTimeout(wpresidence_directory_filtering_action,sliderAjaxDelay)}function wpresidence_directory_filtering_action(){with_clear=parseInt(with_clear,10),1===with_clear&&(jQuery("#property_dir_pagination").val("1"),jQuery("#property_dir_done").val("0"),jQuery("#directory_load_more").removeClass("no_more_list"));const e=ajaxcalls_vars.admin_url+"admin-ajax.php",r=wpresidence_directory_getFilterData();1===with_clear&&jQuery("#listing_ajax_container").empty(),jQuery(".pagination_nojax").hide(),jQuery("#listing_loader").show();const t=jQuery("#wpestate_ajax_filtering").val();jQuery.ajax({type:"POST",url:e,dataType:"json",data:{action:"wpestate_classic_ondemand_directory",...r,security:t},success:function(e){wpresidence_directory_handleAjaxSuccess(e)},error:function(e){console.error("AJAX error:",e)}}),with_clear=1}function wpresidence_directory_initializeSliders(){const e=[{id:"#slider_price_widget",change:wpestate_directory_filtering},{id:"#slider_property_size_widget",config:wpresidence_directory_getSizeSliderConfig()},{id:"#slider_property_lot_size_widget",config:wpresidence_directory_getLotSizeSliderConfig()},{id:"#slider_property_rooms_widget",config:wpresidence_directory_getRoomsSliderConfig("rooms")},{id:"#slider_property_bedrooms_widget",config:wpresidence_directory_getRoomsSliderConfig("bedrooms")},{id:"#slider_property_bathrooms_widget",config:wpresidence_directory_getRoomsSliderConfig("bathrooms")}];e.forEach(e=>{e.change?jQuery(e.id).slider({change:e.change}):jQuery(e.id).slider(e.config)})}function wpresidence_directory_getSizeSliderConfig(){return{range:!0,min:parseFloat(directory_vars.dir_min_size),max:parseFloat(directory_vars.dir_max_size),values:[directory_vars.dir_min_size,directory_vars.dir_max_size],slide:function(e,r){jQuery("#property_size_low").val(r.values[0]),jQuery("#property_size_max").val(r.values[1]),jQuery("#property_size").html(r.values[0]+" "+directory_vars.measures_sys+" "+control_vars.to+" "+r.values[1]+" "+directory_vars.measures_sys),wpestate_directory_filtering()}}}function wpresidence_directory_getLotSizeSliderConfig(){return{range:!0,min:parseFloat(directory_vars.dir_min_lot_size),max:parseFloat(directory_vars.dir_max_lot_size),values:[directory_vars.dir_min_lot_size,directory_vars.dir_max_lot_size],slide:function(e,r){jQuery("#property_lot_size_low").val(r.values[0]),jQuery("#property_lot_size_max").val(r.values[1]),jQuery("#property_lot_size").html(r.values[0]+" "+directory_vars.measures_sys+" "+control_vars.to+" "+r.values[1]+" "+directory_vars.measures_sys),wpestate_directory_filtering()}}}function wpresidence_directory_getRoomsSliderConfig(e){return{range:!0,min:parseFloat(directory_vars[`dir_${e}_min`]),max:parseFloat(directory_vars[`dir_${e}_max`]),values:[directory_vars[`dir_${e}_min`],directory_vars[`dir_${e}_max`]],slide:function(r,t){jQuery(`#property_${e}_low`).val(t.values[0]),jQuery(`#property_${e}_max`).val(t.values[1]),jQuery(`#property_${e}`).text(t.values[0]+" "+control_vars.to+" "+t.values[1]),wpestate_directory_filtering()}}}function wpresidence_directory_getFilterData(){const e={action_values:jQuery("#sidebar-adv_actions").attr("data-value"),category_values:jQuery("#sidebar-adv_categ").attr("data-value"),city:jQuery("#sidebar-advanced_city").attr("data-value"),area:jQuery("#sidebar-adv_area").attr("data-value"),county:jQuery("#sidebar-adv_conty").attr("data-value"),price_low:parseFloat(jQuery("#price_low_widget").val(),10),price_max:parseFloat(jQuery("#price_max_widget").val(),10),postid:directory_vars.post_id,min_size:parseFloat(jQuery("#property_size_low").val(),10),max_size:parseFloat(jQuery("#property_size_max").val(),10),min_lot_size:parseFloat(jQuery("#property_lot_size_low").val(),10),max_lot_size:parseFloat(jQuery("#property_lot_size_max").val(),10),min_rooms:parseFloat(jQuery("#property_rooms_low").val(),10),max_rooms:parseFloat(jQuery("#property_rooms_max").val(),10),min_bedrooms:parseFloat(jQuery("#property_bedrooms_low").val(),10),max_bedrooms:parseFloat(jQuery("#property_bedrooms_max").val(),10),min_bathrooms:parseFloat(jQuery("#property_bathrooms_low").val(),10),max_bathrooms:parseFloat(jQuery("#property_bathrooms_max").val(),10),status:jQuery("#property_status").val(),keyword:jQuery("#property_keyword").val(),order:jQuery("#a_filter_order_directory").attr("data-value"),pagination:jQuery("#property_dir_pagination").val(),all_checkers:wpresidence_directory_getCheckedFilters()};return e}function wpresidence_directory_getCheckedFilters(){return jQuery('.extended_search_check_wrapper_directory input[type="checkbox"]:checked').map(function(){return jQuery(this).attr("name-title")}).get().join(",")}function wpresidence_directory_handleAjaxSuccess(e){const r=parseInt(e.no_results,10),t=parseInt(jQuery("#property_dir_per_page").val(),10),i=jQuery("#listing_ajax_container");jQuery("#directory_load_more");0!==r?(i.append(e.cards),r<=t&&wpresidence_directory_updateLoadMoreButton(!0)):wpresidence_directory_updateLoadMoreButton(!0),jQuery("#listing_loader").hide(),wpestate_restart_js_after_ajax()}function wpresidence_directory_updateLoadMoreButton(e){const r=jQuery("#directory_load_more");jQuery("#property_dir_done").val("1"),r.text(directory_vars.no_more).toggleClass("no_more_list",e)}let sliderTimerScroll;const sliderAjaxDelayScroll=400;let sliderTimer,with_clear=1;jQuery(document).ready(function(){jQuery("#directory_load_more").on("click",function(e){const r=parseInt(jQuery("#property_dir_done").val(),10);0===r&&(with_clear=0,wpresidence_directory_increase_pagination())}),wpresidence_directory_initializeSliders(),jQuery('.extended_search_check_wrapper_directory input[type="checkbox"]').on("click",wpestate_directory_filtering),jQuery(".listing_filters_head_directory li, .directory_sidebar li").on("click",function(){const e=jQuery(this).text(),r=jQuery(this).attr("data-value"),t=jQuery(this).parent().parent();t.find(".filter_menu_trigger").text(e).append('<span class="caret caret_filter"></span>').attr("data-value",r),t.find("input:hidden").val(r),wpestate_directory_filtering()}),jQuery("#property_status, #property_keyword").on("change",wpestate_directory_filtering)});const sliderAjaxDelay=500;